# A meta file

* tex
** license

#+name: tex-license
#+begin_src latex
  % -----------------------------------------------------------------
  % Copyright (C) 2025 by Erwann Rogard
  % - Source repository: https://github.com/erwannr/humanit
  % - Released under the LaTeX Project Public License v1.3c or later
  % - See http://www.latex-project.org/lppl.txt
  % -----------------------------------------------------------------
#+end_src

#+name: tex-copyright
#+begin_src latex
  % -----------------------------------------------------------------
  % Copyright (C) 2025 by Erwann Rogard
  % -----------------------------------------------------------------
#+end_src

** bib 
:PROPERTIES:
:header-args: :tangle ./bib.tex
:END:

#+begin_src latex
  %\usepackage{biblatex}
  \ExecuteBibliographyOptions{bibencoding=auto, sorting=ynt, style=numeric}
#+end_src

** changes
:PROPERTIES:
:header-args: :tangle ./changes.tex
:END:

#+begin_src latex
  %\usepackage{changes} 
  \setcommentmarkup{}
  \sethighlightmarkup{}
  \setaddedmarkup{#1}
  \setauthormarkup{\textsuperscript{#1}}
  \definechangesauthor[name={Erwann}, color=black]{R1}
#+end_src

** counter

~Ctrl-C Ctrl-c~
#+begin_src shell
  curl -L -o ./counter.tex \
      https://raw.githubusercontent.com/rogard/helpers.tex/f0eafb87ecd72ec36978426513acce6e784892fb/tex/module-counter.tex
#+end_src

#+RESULTS:

** enotez
:PROPERTIES:
:header-args: :tangle ./enotez.tex
:END:

#+begin_src latex
  %\usepackage{enotez}
  \DeclareInstance{enotez-list}{default}{paragraph}{
    heading = \subsection*{Notes}
  }  
#+end_src

** inlitemize
:PROPERTIES:
:header-args: :tangle ./inlitemize.tex
:END:

#+begin_src latex
  %\usepackage{enumitem}
  \newlist{inlitemize}{itemize*}{1}
  \setlist[inlitemize]{label={}, itemjoin={{; }}, after*={.}}
#+end_src

** quotestyle
:PROPERTIES:
:header-args: :tangle ./quotestyle.tex
:END:

#+begin_src latex
  \tcbset{
    quotestyle/.style={
      colback=gray!5,
      colframe=gray!50,
      boxrule=0.5pt,
      leftrule=2mm,
      arc=0pt,
      boxsep=5pt,
      left=3mm,
      right=3mm,
      top=2mm,
      bottom=2mm,
      breakable
    }
  }
#+end_src
** xsim
:PROPERTIES:
:header-args: :tangle ./xsim.tex
:END:

#+begin_src latex
  \ProvideDocumentCommand{\XSIMexerciseName}{}{Question}
  \ProvideDocumentCommand{\XSIMsolutionName}{}{Answer}
  \ProvideDocumentCommand{\XSIMformat}{m}{\subsection*{#1}}
#+end_src

#+begin_src latex
  \DeclareExerciseEnvironmentTemplate{nopoints}{%
    {%
      \XSIMformat{
        \IfInsideSolutionTF{%
          % Answer heading with hyperlink
          \hypertarget{answer:\ExerciseID}{}%
          \hyperlink{question:\ExerciseID}{\GetExerciseName\ \GetExerciseProperty{counter}}%
        }{%
          % Question heading with link to answer
          \hypertarget{question:\ExerciseID}{}%
          \GetExerciseName\ \GetExerciseProperty{counter}%
          \quad{\small\hyperlink{answer:\ExerciseID}{(â†’\XSIMsolutionName)}}%
        }%
      }
    }%
  }{\par}
#+end_src

#+begin_src latex
  \DeclareExerciseType{question}{
    exercise-env = question,
    solution-env = answer,
    exercise-name = \XSIMexerciseName,
    solution-name = \XSIMsolutionName,
    exercise-template = nopoints,
    solution-template = nopoints
  }
#+end_src

** provide
:PROPERTIES:
:header-args: :tangle ./provide.tex
:END:

#+begin_src latex
  \ProvideDocumentCommand{\Elide}{sO{\IfBooleanT{#1}{\ldots}}m}{[#2]}
#+end_src

#+begin_src latex
\ProvideDocumentCommand{\AttributeQuote}{m}{
  \par\medskip\raggedleft--- #1
}
#+end_src

#+begin_src latex
  \ProvideDocumentCommand{\ISOdate}{O{\today}}{#1}
#+end_src
#+begin_src latex
  \ExplSyntaxOn
  % Declare title, author, date token lists
  \tl_new:N \g__erw_title_tl
  \tl_new:N \g__erw_author_tl
  \tl_new:N \g__erw_date_tl

  % Commands to set them (like \title, \author, \date)
  \ProvideDocumentCommand{\Title}{m}{\tl_gset:Nn \g__erw_title_tl {#1}}
  \ProvideDocumentCommand{\Author}{m}{\tl_gset:Nn \g__erw_author_tl {#1}}
  \ProvideDocumentCommand{\Date}{m}{\tl_gset:Nn \g__erw_date_tl {#1}}

  % Redefine \maketitle in LaTeX3 style
  \ProvideDocumentCommand\MakeTitle{}
  {
    \begin{titlepage}
      \centering
      \vspace*{\fill}
      {\Huge \bfseries \tl_use:N \g__erw_title_tl}\\
      \vspace*{\fill}
      {\tl_use:N \g__erw_author_tl}\\
      \vspace*{\fill}
      {\Large \bfseries \tl_use:N \g__erw_date_tl}
      \vspace{\fill}
    \end{titlepage}
  }
  \ExplSyntaxOff
#+end_src
