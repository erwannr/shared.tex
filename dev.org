# A meta file

* tex
** license

#+name: tex-license
#+begin_src latex
  % -----------------------------------------------------------------
  % Copyright (C) 2025 by Erwann Rogard
  % - Source repository: https://github.com/erwannr/humanit
  % - Released under the LaTeX Project Public License v1.3c or later
  % - See http://www.latex-project.org/lppl.txt
  % -----------------------------------------------------------------
#+end_src

#+name: tex-copyright
#+begin_src latex
  % -----------------------------------------------------------------
  % Copyright (C) 2025 by Erwann Rogard
  % -----------------------------------------------------------------
#+end_src

** bib 
:PROPERTIES:
:header-args: :tangle ./bib.tex
:END:

#+begin_src latex
  % \usepackage[bibencoding=auto, sorting=ynt, style=numeric, defernumbers=true]{biblatex}
  \usepackage[bibencoding=auto, sorting=ynt, style=numeric]{biblatex}
#+end_src

** changes
:PROPERTIES:
:header-args: :tangle ./changes.tex
:END:

#+begin_src latex
  \usepackage{changes} 
  \setcommentmarkup{}
  \sethighlightmarkup{}
  \setaddedmarkup{#1}
  \setauthormarkup{\textsuperscript{#1}}
  \definechangesauthor[name={Erwann}, color=black]{R1}
#+end_src
** counter

~Ctrl-C Ctrl-c~
#+begin_src shell
  curl -L -o ./counter.tex \
      https://raw.githubusercontent.com/rogard/helpers.tex/f0eafb87ecd72ec36978426513acce6e784892fb/tex/module-counter.tex
#+end_src

#+RESULTS:

** enotez
:PROPERTIES:
:header-args: :tangle ./enotez.tex
:END:

#+begin_src latex
  \usepackage{enotez}
  \DeclareInstance{enotez-list}{default}{paragraph}{
    heading = \subsection*{Notes}
  }  
#+end_src

** enumitem
:PROPERTIES:
:header-args: :tangle ./enumitem.tex
:END:

#+begin_src latex
  \usepackage{enumitem}
  \newlist{inlitemize}{itemize*}{1}
  \setlist[inlitemize]{label={}, itemjoin={{; }}, after*={.}}
#+end_src

** quotestyle
:PROPERTIES:
:header-args: :tangle ./quotestyle.tex
:END:

#+begin_src latex
  \tcbset{
    quotestyle/.style={
      colback=gray!5,
      colframe=gray!50,
      boxrule=0.5pt,
      leftrule=2mm,
      arc=0pt,
      boxsep=5pt,
      left=3mm,
      right=3mm,
      top=2mm,
      bottom=2mm,
      breakable
    }
  }
#+end_src
** xsim
:PROPERTIES:
:header-args: :tangle ./xsim.tex
:END:

#+begin_src latex
  \usepackage{xsim}

  \ProvideDocumentCommand{\ExerciseName}{}{Question}
  \ProvideDocumentCommand{\SolutionName}{}{Answer}

  \DeclareExerciseType{question}{
    exercise-env = question,
    solution-env = answer,
    exercise-name = \ExerciseName,
    solution-name = \SolutionName,
    exercise-template = default,
    solution-template = default
  }

  % Custom template without points in margin
  % \DeclareExerciseEnvironmentTemplate{nopoints}{%
  % \subsection*{%
  % \XSIMmixedcase{\GetExerciseName}\nobreakspace
  % \GetExerciseProperty{counter}%
  % \IfInsideSolutionF{%
  % \GetExercisePropertyT{subtitle}
  % { {\normalfont\itshape\PropertyValue}}%
  % }%
  % }%
  % }{\par}

  \DeclareExerciseEnvironmentTemplate{nopoints}{%
    \subsubsection*{%
      \IfInsideSolutionTF{%
        % In answer: create target and link back to question
        \hypertarget{answer:\ExerciseID}{}%
        \hyperlink{question:\ExerciseID}{%
          \XSIMmixedcase{\GetExerciseName}\nobreakspace
          \GetExerciseProperty{counter}%
        }%
        \GetExercisePropertyT{subtitle}
        { {\normalfont\itshape\PropertyValue}}%
      }{%
        % In question: create target and link to answer
        \hypertarget{question:\ExerciseID}{}%
        \XSIMmixedcase{\GetExerciseName}\nobreakspace
        \GetExerciseProperty{counter}%
        \GetExercisePropertyT{subtitle}
        { {\normalfont\itshape\PropertyValue}}%
        \quad
        {\small\hyperlink{answer:\ExerciseID}{(→ réponse)}}%
      }%
    }%
  }{\par}
#+end_src
** textutil
:PROPERTIES:
:header-args: :tangle ./provide.tex
:END:

#+begin_src latex
  \ProvideDocumentCommand{\Elide}{sO{\IfBooleanT{#1}{\ldots}}m}{[#2]}
#+end_src

#+begin_src latex
\ProvideDocumentCommand{\AttributeQuote}{m}{
  \par\medskip\raggedleft--- #1
}
#+end_src

#+begin_src latex
  \ProvideDocumentCommand{\TheDate}{m}{%
    \today
  }
#+end_src
